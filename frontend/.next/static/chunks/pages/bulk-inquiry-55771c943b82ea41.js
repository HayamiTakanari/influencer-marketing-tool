(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{7193:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bulk-inquiry",function(){return s(18)}])},18:function(e,t,s){"use strict";s.r(t);var a=s(5893),l=s(7294),r=s(5841),i=s(1163),n=s(6635),c=s(2184);t.default=()=>{var e;let[t,s]=(0,l.useState)("create"),[d,o]=(0,l.useState)([]),[x,u]=(0,l.useState)([]),[m,p]=(0,l.useState)(null),[g,b]=(0,l.useState)(!0),[h,y]=(0,l.useState)(""),[N,f]=(0,l.useState)(!1),[j,v]=(0,l.useState)(null),w=(0,i.useRouter)(),[E,C]=(0,l.useState)(null),[S,k]=(0,l.useState)([]),[I,P]=(0,l.useState)([]),[D,T]=(0,l.useState)([]),[q,A]=(0,l.useState)(null),[L,O]=(0,l.useState)(!0),[R,F]=(0,l.useState)(!1),[_,Y]=(0,l.useState)({title:"",description:"",budget:0,deadline:"",requiredServices:[]}),[G,M]=(0,l.useState)({status:"PENDING",proposedPrice:0,message:"",availableFrom:"",availableTo:""}),U={PHOTOGRAPHY:"撮影",VIDEO_EDITING:"動画編集",CONTENT_CREATION:"コンテンツ制作",POSTING:"投稿",STORY_CREATION:"ストーリー制作",CONSULTATION:"コンサルティング",LIVE_STREAMING:"ライブ配信",EVENT_APPEARANCE:"イベント出演"},V={PENDING:"返答待ち",ACCEPTED:"承諾",DECLINED:"辞退",EXPIRED:"期限切れ"},Z={PENDING:"bg-yellow-100 text-yellow-800",ACCEPTED:"bg-green-100 text-green-800",DECLINED:"bg-red-100 text-red-800",EXPIRED:"bg-gray-100 text-gray-800"};(0,l.useEffect)(()=>{let e=localStorage.getItem("user");if(!e){w.push("/login");return}let t=JSON.parse(e);if(C(t),"CLIENT"===t.role||"COMPANY"===t.role)s("create");else if("INFLUENCER"===t.role)s("received");else{w.push("/dashboard");return}X(),("CLIENT"===t.role||"COMPANY"===t.role)&&K()},[w]);let X=async()=>{try{b(!0);let e=JSON.parse(localStorage.getItem("user")||"{}");if("CLIENT"===e.role||"COMPANY"===e.role){let[e,t]=await Promise.all([(0,n.VZ)(),(0,n.t$)()]);o(e.inquiries||[]),p(t)}else if("INFLUENCER"===e.role){let e=await (0,n.aP)();u(e.responses||[])}}catch(e){console.error("Error fetching data:",e),y("データの取得に失敗しました。")}finally{b(!1)}},K=async()=>{try{let e=await (0,c.searchInfluencers)({});k(e.influencers||[])}catch(e){console.error("Error fetching influencers:",e)}},$=async()=>{if(!_.title||!_.description){y("タイトルと説明を入力してからAIレコメンドを実行してください。");return}try{F(!0),y("");let e=await (0,c.ij)({title:_.title,description:_.description,requiredServices:_.requiredServices,budget:_.budget>0?_.budget:void 0});T(e.influencers||[]),A(e.analysis||null);let t=e.influencers.filter(e=>e.aiScore>=80).map(e=>e.id);P(t)}catch(e){console.error("Error getting AI recommendations:",e),y("AIレコメンドの取得に失敗しました。")}finally{F(!1)}},z=async e=>{if(e.preventDefault(),0===I.length){y("問い合わせ対象のインフルエンサーを選択してください。");return}try{let e={..._,targetInfluencers:I,budget:_.budget>0?_.budget:void 0,deadline:_.deadline||void 0};await (0,n.sV)(e),Y({title:"",description:"",budget:0,deadline:"",requiredServices:[]}),P([]),s("sent"),X()}catch(e){console.error("Error creating inquiry:",e),y("問い合わせの送信に失敗しました。")}},H=async e=>{if(e.preventDefault(),j)try{let e={...G,proposedPrice:G.proposedPrice>0?G.proposedPrice:void 0,availableFrom:G.availableFrom||void 0,availableTo:G.availableTo||void 0};await (0,n.NY)(j.id,e),f(!1),v(null),X()}catch(e){console.error("Error updating response:",e),y("回答の更新に失敗しました。")}},J=e=>{v(e),M({status:e.status,proposedPrice:e.proposedPrice||0,message:e.message||"",availableFrom:e.availableFrom?e.availableFrom.split("T")[0]:"",availableTo:e.availableTo?e.availableTo.split("T")[0]:""}),f(!0)},B=e=>{P(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},W=e=>{Y(t=>({...t,requiredServices:t.requiredServices.includes(e)?t.requiredServices.filter(t=>t!==e):[...t.requiredServices,e]}))};return g?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"読み込み中..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsx)(r.E.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-8",children:"一斉問い合わせ"}),h&&(0,a.jsx)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-6",children:h}),(0,a.jsxs)("div",{className:"flex space-x-4 mb-8",children:[((null==E?void 0:E.role)==="CLIENT"||(null==E?void 0:E.role)==="COMPANY")&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>s("create"),className:"px-6 py-3 rounded-xl font-semibold transition-all ".concat("create"===t?"bg-blue-600 text-white shadow-lg":"bg-white/80 text-gray-700 hover:bg-white"),children:"問い合わせ作成"}),(0,a.jsx)("button",{onClick:()=>s("sent"),className:"px-6 py-3 rounded-xl font-semibold transition-all ".concat("sent"===t?"bg-blue-600 text-white shadow-lg":"bg-white/80 text-gray-700 hover:bg-white"),children:"送信済み"})]}),(null==E?void 0:E.role)==="INFLUENCER"&&(0,a.jsx)("button",{onClick:()=>s("received"),className:"px-6 py-3 rounded-xl font-semibold transition-all ".concat("received"===t?"bg-blue-600 text-white shadow-lg":"bg-white/80 text-gray-700 hover:bg-white"),children:"受信済み"})]}),"create"===t&&((null==E?void 0:E.role)==="CLIENT"||(null==E?void 0:E.role)==="COMPANY")&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-2xl p-8 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"新しい問い合わせを作成"}),(0,a.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"タイトル *"}),(0,a.jsx)("input",{type:"text",value:_.title,onChange:e=>Y({..._,title:e.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"春の新商品プロモーション"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"予算（円）"}),(0,a.jsx)("input",{type:"number",value:_.budget,onChange:e=>Y({..._,budget:parseInt(e.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100000"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"説明 *"}),(0,a.jsx)("textarea",{value:_.description,onChange:e=>Y({..._,description:e.target.value}),required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"プロジェクトの詳細説明..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"回答期限"}),(0,a.jsx)("input",{type:"datetime-local",value:_.deadline,onChange:e=>Y({..._,deadline:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"必要なサービス *"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(U).map(e=>{let[t,s]=e;return(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:_.requiredServices.includes(t),onChange:()=>W(t),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm",children:s})]},t)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["問い合わせ対象インフルエンサー * (",I.length,"人選択中)"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:$,disabled:R||!_.title||!_.description,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,a.jsx)("span",{children:"分析中..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"\uD83E\uDD16"}),(0,a.jsx)("span",{children:"AIレコメンド"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>O(!0),className:"px-3 py-1 rounded-lg text-sm font-medium transition-all ".concat(L?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"),children:"AIモード"}),(0,a.jsx)("button",{type:"button",onClick:()=>O(!1),className:"px-3 py-1 rounded-lg text-sm font-medium transition-all ".concat(L?"bg-gray-200 text-gray-700":"bg-blue-500 text-white"),children:"手動選択"})]})]})]}),q&&(0,a.jsxs)("div",{className:"mb-4 p-4 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83E\uDD16"}),(0,a.jsx)("h4",{className:"font-semibold text-purple-900",children:"AI分析結果"})]}),(0,a.jsx)("p",{className:"text-sm text-purple-800 mb-3",children:q.recommendationSummary}),q.detectedKeywords&&q.detectedKeywords.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-purple-700 mb-2",children:"検出されたキーワード:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:q.detectedKeywords.map((e,t)=>(0,a.jsxs)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:[e.category," (",e.score,")"]},t))})]})]}),(0,a.jsxs)("div",{className:"max-h-80 overflow-y-auto border border-gray-300 rounded-xl p-4",children:[(L?D:S).map(e=>{var t;return(0,a.jsxs)("label",{className:"flex items-center space-x-3 py-3 cursor-pointer hover:bg-gray-50 rounded-lg px-2 border-l-4 ".concat(e.isRecommended?"border-l-green-500 bg-green-50":"border-l-transparent"),children:[(0,a.jsx)("input",{type:"checkbox",checked:I.includes(e.id),onChange:()=>B(e.id),className:"rounded"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("p",{className:"font-medium",children:e.displayName}),e.aiScore&&(0,a.jsxs)("div",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(e.aiScore>=90?"bg-green-100 text-green-800":e.aiScore>=80?"bg-blue-100 text-blue-800":e.aiScore>=70?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:["マッチ度: ",e.aiScore,"%"]}),e.isRecommended&&(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:"\uD83C\uDF1F おすすめ"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.bio}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[null===(t=e.categories)||void 0===t?void 0:t.join(", ")," | ",e.prefecture]}),e.matchReasons&&e.matchReasons.length>0&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"マッチング理由:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.matchReasons.map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:e},t))})]}),e.socialAccounts&&e.socialAccounts.length>0&&(0,a.jsx)("div",{className:"flex space-x-3 mt-2",children:e.socialAccounts.map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.platform,": ",null===(s=e.followerCount)||void 0===s?void 0:s.toLocaleString(),"人"]},t)})})]})]},e.id)}),L&&0===D.length&&!R&&(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)("p",{className:"text-lg mb-2",children:"\uD83E\uDD16"}),(0,a.jsx)("p",{children:"「AIレコメンド」ボタンをクリックして、最適なインフルエンサーを見つけましょう"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"タイトルと説明を入力後にご利用ください"})]}),!L&&0===S.length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,a.jsx)("p",{children:"インフルエンサーが見つかりませんでした"})})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all",children:"問い合わせを送信"})})]})]}),"sent"===t&&((null==E?void 0:E.role)==="CLIENT"||(null==E?void 0:E.role)==="COMPANY")&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[m&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-6 shadow-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"総問い合わせ数"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:m.totalInquiries})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-6 shadow-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"総回答数"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600",children:m.totalResponses})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-6 shadow-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"回答状況"}),(0,a.jsx)("div",{className:"space-y-1 text-sm",children:null===(e=m.responseStats)||void 0===e?void 0:e.map(e=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:V[e.status]}),(0,a.jsx)("span",{className:"font-semibold",children:e._count.status})]},e.status))})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-6 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:e.title}),(0,a.jsx)("p",{className:"text-gray-600",children:e.description})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),e.budget&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["予算: \xa5",e.budget.toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"必要なサービス:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.requiredServices.map(e=>(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:U[e]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["回答状況 (",e.responses.length,"件)"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.responses.map(e=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.influencer.displayName}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(Z[e.status]),children:V[e.status]})]}),e.proposedPrice&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["提案価格: \xa5",e.proposedPrice.toLocaleString()]}),e.message&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:e.message})]},e.id))})]})]},e.id))}),0===d.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-600 text-lg",children:"まだ問い合わせを送信していません。"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"「問い合わせ作成」タブから新しい問い合わせを作成してください。"})]})]}),"received"===t&&(null==E?void 0:E.role)==="INFLUENCER"&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[x.map(e=>(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-6 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:e.inquiry.title}),(0,a.jsx)("p",{className:"text-gray-600",children:e.inquiry.client.companyName})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat(Z[e.status]),children:V[e.status]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:e.inquiry.description}),e.inquiry.budget&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["予算: \xa5",e.inquiry.budget.toLocaleString()]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"必要なサービス:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.inquiry.requiredServices.map(e=>(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:U[e]},e))})]}),"PENDING"===e.status&&(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:()=>J(e),className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"回答する"})}),"PENDING"!==e.status&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-gray-700 mb-2",children:"あなたの回答:"}),e.proposedPrice&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["提案価格: \xa5",e.proposedPrice.toLocaleString()]}),e.message&&(0,a.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.message})]})]},e.id)),0===x.length&&(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-600 text-lg",children:"まだ問い合わせを受信していません。"})})]})]}),N&&j&&(0,a.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)(r.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"問い合わせに回答"}),(0,a.jsx)("button",{onClick:()=>{f(!1),v(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:"✕"})]}),(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-2",children:j.inquiry.title}),(0,a.jsx)("p",{className:"text-gray-600 mb-2",children:j.inquiry.description}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:j.inquiry.client.companyName})]}),(0,a.jsxs)("form",{onSubmit:H,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"回答 *"}),(0,a.jsxs)("select",{value:G.status,onChange:e=>M({...G,status:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"PENDING",children:"検討中"}),(0,a.jsx)("option",{value:"ACCEPTED",children:"承諾"}),(0,a.jsx)("option",{value:"DECLINED",children:"辞退"})]})]}),"ACCEPTED"===G.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"提案価格（円）"}),(0,a.jsx)("input",{type:"number",value:G.proposedPrice,onChange:e=>M({...G,proposedPrice:parseInt(e.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100000"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"対応可能開始日"}),(0,a.jsx)("input",{type:"date",value:G.availableFrom,onChange:e=>M({...G,availableFrom:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"対応可能終了日"}),(0,a.jsx)("input",{type:"date",value:G.availableTo,onChange:e=>M({...G,availableTo:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メッセージ"}),(0,a.jsx)("textarea",{value:G.message,onChange:e=>M({...G,message:e.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"詳細なメッセージ..."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{f(!1),v(null)},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"キャンセル"}),(0,a.jsx)("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl hover:shadow-lg transition-all",children:"回答を送信"})]})]})]})})]})}},6635:function(e,t,s){"use strict";s.d(t,{F6:function(){return N},NY:function(){return y},OY:function(){return c},Ol:function(){return x},UZ:function(){return i},Ul:function(){return f},VZ:function(){return g},Zx:function(){return l},a7:function(){return m},aP:function(){return b},e7:function(){return u},eW:function(){return d},mT:function(){return r},pM:function(){return j},r9:function(){return o},rd:function(){return v},sV:function(){return p},t$:function(){return h},u$:function(){return n}});let a=s(7066).Z.create({baseURL:"http://localhost:5002/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let l=async e=>(await a.post("/achievements",e)).data,r=async()=>(await a.get("/achievements/my-achievements")).data,i=async()=>(await a.get("/achievements/stats")).data,n=async(e,t)=>(await a.put("/achievements/".concat(e),t)).data,c=async e=>(await a.delete("/achievements/".concat(e))).data,d=async e=>(await a.post("/service-pricing/bulk",e)).data,o=async()=>(await a.get("/service-pricing/my-pricing")).data,x=async()=>(await a.get("/service-pricing/validate")).data,u=async(e,t)=>(await a.put("/service-pricing/".concat(e),t)).data,m=async e=>(await a.delete("/service-pricing/".concat(e))).data,p=async e=>(await a.post("/bulk-inquiries",e)).data,g=async()=>(await a.get("/bulk-inquiries/my-inquiries")).data,b=async()=>(await a.get("/bulk-inquiries/my-responses")).data,h=async()=>(await a.get("/bulk-inquiries/stats")).data,y=async(e,t)=>(await a.put("/bulk-inquiries/response/".concat(e),t)).data,N=async e=>(await a.post("/schedules",e)).data,f=async e=>(await a.get("/schedules/upcoming",{params:{days:e}})).data,j=async e=>(await a.get("/schedules/project/".concat(e))).data,v=async(e,t)=>(await a.put("/schedules/milestone/".concat(e),t)).data},1163:function(e,t,s){e.exports=s(3079)}},function(e){e.O(0,[841,66,184,888,774,179],function(){return e(e.s=7193)}),_N_E=e.O()}]);