(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[241],{9051:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/influencer/[id]",function(){return s(3906)}])},3906:function(e,t,s){"use strict";s.r(t);var l=s(5893),a=s(7294),r=s(5841),i=s(1163),c=s(1664),n=s.n(c);t.default=()=>{var e;let[t,c]=(0,a.useState)(null),[d,o]=(0,a.useState)(null),[x,m]=(0,a.useState)(!0),[u,h]=(0,a.useState)(""),[b,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(""),[j,N]=(0,a.useState)(!1),y=(0,i.useRouter)(),{id:v}=y.query;(0,a.useEffect)(()=>{let e=localStorage.getItem("user"),t=localStorage.getItem("token");if(e&&t){let t=JSON.parse(e);if(c(t),"CLIENT"!==t.role&&"COMPANY"!==t.role){y.push("/dashboard");return}v&&w()}else y.push("/login")},[v,y]);let w=async()=>{try{let{getInfluencerById:e}=await Promise.all([s.e(66),s.e(184)]).then(s.bind(s,2184)),t=await e(v);o(t)}catch(e){console.error("Error fetching influencer details:",e),h("インフルエンサーの詳細を取得できませんでした。")}finally{m(!1)}},k=async e=>{e.preventDefault(),N(!0);try{localStorage.setItem("pendingContactMessage",JSON.stringify({influencerId:null==d?void 0:d.id,message:g})),y.push("/chat")}catch(e){console.error("Contact error:",e),alert("メッセージの送信に失敗しました。")}finally{N(!1)}},C=e=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",minimumFractionDigits:0}).format(e),D=e=>e>=1e4?(e/1e4).toFixed(1)+"万":e.toLocaleString(),E=e=>{switch(e.toLowerCase()){case"instagram":return"\uD83D\uDCF8";case"youtube":return"\uD83C\uDFA5";case"tiktok":return"\uD83C\uDFB5";case"twitter":return"\uD83D\uDC26";default:return"\uD83D\uDCF1"}};return x?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"読み込み中..."})]})}):u||!d?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"❌"}),(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"エラーが発生しました"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:u||"インフルエンサーが見つかりませんでした。"}),(0,l.jsx)(n(),{href:"/search",className:"text-blue-600 hover:underline",children:"検索ページに戻る"})]})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[(0,l.jsx)("div",{className:"bg-white/80 backdrop-blur-xl border-b border-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)(n(),{href:"/search",className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white font-bold",children:"←"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"インフルエンサー詳細"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[d.displayName,"のプロフィール"]})]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsx)(n(),{href:"/search",className:"px-4 py-2 text-gray-600 hover:text-blue-600 transition-colors",children:"検索に戻る"})})]})}),(0,l.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,l.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-white/80 backdrop-blur-xl border border-gray-200 rounded-3xl p-8 shadow-xl mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[(0,l.jsxs)("div",{className:"text-center md:text-left",children:[(0,l.jsx)("div",{className:"w-32 h-32 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto md:mx-0 mb-4",children:(0,l.jsx)("span",{className:"text-white font-bold text-4xl",children:d.displayName.charAt(0)})}),(0,l.jsx)("div",{className:"flex justify-center md:justify-start space-x-2 mb-4",children:d.socialAccounts.map(e=>(0,l.jsxs)("a",{href:e.profileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 px-3 py-2 bg-gray-100 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:[(0,l.jsx)("span",{children:E(e.platform)}),(0,l.jsx)("span",{className:"font-medium",children:D(e.followerCount)}),e.isVerified&&(0,l.jsx)("span",{className:"text-blue-500",children:"✓"})]},e.id))})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:d.displayName}),(0,l.jsxs)("p",{className:"text-gray-600 mb-4",children:[d.prefecture,d.city&&", ".concat(d.city)]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:d.categories.map(e=>(0,l.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:e},e))}),(0,l.jsx)("p",{className:"text-gray-700 mb-6",children:d.bio}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:D(d.socialAccounts.reduce((e,t)=>e+t.followerCount,0))}),(0,l.jsx)("div",{className:"text-gray-600 text-sm",children:"合計フォロワー"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[0===(e=d.socialAccounts).length?0:(e.reduce((e,t)=>e+t.engagementRate,0)/e.length).toFixed(1),"%"]}),(0,l.jsx)("div",{className:"text-gray-600 text-sm",children:"平均エンゲージメント"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:C(d.priceMin)}),(0,l.jsx)("div",{className:"text-gray-600 text-sm",children:"最低料金"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:C(d.priceMax)}),(0,l.jsx)("div",{className:"text-gray-600 text-sm",children:"最高料金"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-4",children:[(0,l.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y.push("/chat"),className:"w-full md:w-auto px-8 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all",children:"\uD83D\uDCAC チャットする"}),(0,l.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(!0),className:"w-full md:w-auto px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all",children:"\uD83D\uDCE7 コンタクトフォーム"})]})]})]})}),(0,l.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"bg-white/80 backdrop-blur-xl border border-gray-200 rounded-3xl p-8 shadow-xl mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"SNSアカウント"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.socialAccounts.map(e=>(0,l.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("span",{className:"text-2xl",children:E(e.platform)}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-bold text-gray-900",children:e.platform}),(0,l.jsxs)("p",{className:"text-gray-600 text-sm",children:["@",e.username]})]})]}),e.isVerified&&(0,l.jsx)("span",{className:"text-blue-500 font-bold",children:"認証済み ✓"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-xl font-bold text-gray-900",children:D(e.followerCount)}),(0,l.jsx)("div",{className:"text-gray-600 text-sm",children:"フォロワー"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[e.engagementRate,"%"]}),(0,l.jsx)("div",{className:"text-gray-600 text-sm",children:"エンゲージメント"})]})]}),(0,l.jsx)("a",{href:e.profileUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-4 block w-full text-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"プロフィールを見る"})]},e.id))})]}),d.portfolio&&d.portfolio.length>0&&(0,l.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"bg-white/80 backdrop-blur-xl border border-gray-200 rounded-3xl p-8 shadow-xl",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"ポートフォリオ"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.portfolio.map(e=>(0,l.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6",children:[e.imageUrl&&(0,l.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover rounded-lg mb-4"}),(0,l.jsx)("h3",{className:"font-bold text-gray-900 mb-2",children:e.title}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),e.link&&(0,l.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"詳細を見る →"})]},e.id))})]})]}),b&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,l.jsxs)(r.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl p-8 max-w-md w-full relative",children:[(0,l.jsx)("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:"✕"}),(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"コンタクトメッセージ"}),(0,l.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[d.displayName,"さんへのメッセージ"]}),(0,l.jsx)("textarea",{value:g,onChange:e=>f(e.target.value),required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"コラボレーションの内容や期待する成果について詳しく記載してください..."})]}),(0,l.jsx)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:j,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:j?"メッセージ送信中...":"メッセージを送信"})]})]})})]})}},1163:function(e,t,s){e.exports=s(3079)}},function(e){e.O(0,[841,664,888,774,179],function(){return e(e.s=9051)}),_N_E=e.O()}]);