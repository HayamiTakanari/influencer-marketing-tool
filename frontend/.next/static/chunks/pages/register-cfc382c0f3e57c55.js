(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{4722:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return l(8912)}])},8912:function(e,a,l){"use strict";l.r(a);var t=l(5893),s=l(7294),r=l(5841),n=l(1664),i=l.n(n),o=l(1163);a.default=()=>{let[e,a]=(0,s.useState)(null),[n,c]=(0,s.useState)({name:"",email:"",password:"",category:"",company:""}),[d,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(""),p=(0,o.useRouter)(),h=async a=>{if(a.preventDefault(),x(!0),u(""),!n.email||!n.password||!n.name){u("必須項目をすべて入力してください。"),x(!1);return}if(n.password.length<8){u("パスワードは8文字以上で入力してください。"),x(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){u("有効なメールアドレスを入力してください。"),x(!1);return}if("influencer"===e&&!n.category){u("カテゴリーを選択してください。"),x(!1);return}if("client"===e&&!n.company){u("会社名を入力してください。"),x(!1);return}try{let{register:a}=await Promise.all([l.e(7066),l.e(2184)]).then(l.bind(l,2184)),t={email:n.email,password:n.password,role:"influencer"===e?"INFLUENCER":"CLIENT",displayName:"influencer"===e?n.name:void 0,companyName:"client"===e?n.company:void 0,contactName:"client"===e?n.name:void 0},s=await a(t);localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),alert("アカウントが正常に作成されました！"),p.push("/dashboard")}catch(e){var t,s,r,i;console.error("Registration error:",e),(null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)?u(e.response.data.error):(null===(i=e.response)||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:r.details)?u(e.response.data.details.map(e=>{let a={password:"パスワード",email:"メールアドレス",displayName:"表示名",companyName:"会社名",contactName:"担当者名"}[e.path[0]]||e.path[0];return"too_small"===e.code&&"password"===e.path[0]?"".concat(a,"は").concat(e.minimum,"文字以上で入力してください。"):"invalid_string"===e.code&&"email"===e.validation?"有効なメールアドレスを入力してください。":e.message}).join("、")):u("アカウント作成に失敗しました。もう一度お試しください。")}finally{x(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center px-4",children:[(0,t.jsxs)("div",{className:"max-w-4xl w-full",children:[(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-6xl font-black mb-4",children:(0,t.jsx)("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"アカウント作成"})}),(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"あなたの立場を選択してください"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsx)(r.E.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},whileHover:{scale:1.02,y:-10},className:"group relative",children:(0,t.jsx)("div",{className:"bg-white/80 backdrop-blur-xl border border-gray-200 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDC51"}),(0,t.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:"インフルエンサー登録"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"クリエイターとして収益化を始めましょう"}),(0,t.jsxs)("ul",{className:"text-left space-y-2 mb-8",children:[(0,t.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,t.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),"ブランドからのオファー受信"]}),(0,t.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,t.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),"収益分析機能"]}),(0,t.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,t.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),"プロフィール管理"]}),(0,t.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,t.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),"安全な決済システム"]})]}),(0,t.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("influencer"),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-4 rounded-2xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"インフルエンサーとして登録"})]})})}),(0,t.jsx)(r.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4},whileHover:{scale:1.02,y:-10},className:"group relative",children:(0,t.jsx)("div",{className:"bg-white/80 backdrop-blur-xl border border-gray-200 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-6",children:"\uD83C\uDFE2"}),(0,t.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:"企業・ブランド登録"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"効果的なマーケティングを始めましょう"}),(0,t.jsxs)("ul",{className:"text-left space-y-2 mb-8",children:[(0,t.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,t.jsx)("span",{className:"text-blue-500 mr-2",children:"✓"}),"インフルエンサー検索"]}),(0,t.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,t.jsx)("span",{className:"text-blue-500 mr-2",children:"✓"}),"キャンペーン管理"]}),(0,t.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,t.jsx)("span",{className:"text-blue-500 mr-2",children:"✓"}),"効果測定・分析"]}),(0,t.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,t.jsx)("span",{className:"text-blue-500 mr-2",children:"✓"}),"契約・支払い管理"]})]}),(0,t.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("client"),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-4 rounded-2xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"企業・ブランドとして登録"})]})})})]}),(0,t.jsx)(r.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-center mt-8",children:(0,t.jsxs)("p",{className:"text-gray-600",children:["すでにアカウントをお持ちですか？"," ",(0,t.jsx)(i(),{href:"/login",className:"text-blue-600 hover:underline font-semibold",children:"ログイン"})]})})]}),e&&(0,t.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(r.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl p-8 max-w-md w-full relative",children:[(0,t.jsx)("button",{onClick:()=>a(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:"✕"}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"influencer"===e?"インフルエンサー登録":"企業・ブランド登録"}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"お名前"}),(0,t.jsx)("input",{type:"text",value:n.name,onChange:e=>c({...n,name:e.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"山田 太郎"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),(0,t.jsx)("input",{type:"email",value:n.email,onChange:e=>c({...n,email:e.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"example@email.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"パスワード"}),(0,t.jsx)("input",{type:"password",value:n.password,onChange:e=>c({...n,password:e.target.value}),required:!0,minLength:8,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"8文字以上で入力"})]}),"influencer"===e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"カテゴリー"}),(0,t.jsxs)("select",{value:n.category,onChange:e=>c({...n,category:e.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"選択してください"}),(0,t.jsx)("option",{value:"美容",children:"美容"}),(0,t.jsx)("option",{value:"ファッション",children:"ファッション"}),(0,t.jsx)("option",{value:"ライフスタイル",children:"ライフスタイル"}),(0,t.jsx)("option",{value:"料理",children:"料理"}),(0,t.jsx)("option",{value:"旅行",children:"旅行"}),(0,t.jsx)("option",{value:"フィットネス",children:"フィットネス"}),(0,t.jsx)("option",{value:"テクノロジー",children:"テクノロジー"})]})]}),"client"===e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"会社名"}),(0,t.jsx)("input",{type:"text",value:n.company,onChange:e=>c({...n,company:e.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"株式会社〇〇"})]}),m&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:m}),(0,t.jsx)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:d?"アカウント作成中...":"アカウント作成"})]})]})})]})}},1163:function(e,a,l){e.exports=l(3079)}},function(e){e.O(0,[5841,1664,2888,9774,179],function(){return e(e.s=4722)}),_N_E=e.O()}]);