(()=>{var e={};e.id=174,e.ids=[174,888,660],e.modules={3327:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>p,default:()=>u,getServerSideProps:()=>g,getStaticPaths:()=>h,getStaticProps:()=>m,reportWebVitals:()=>b,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>f});var s=r(7093),l=r(5244),i=r(1323),n=r(2899),o=r.n(n),c=r(3893),d=r(4492),x=e([c,d]);[c,d]=x.then?(await x)():x;let u=(0,i.l)(d,"default"),m=(0,i.l)(d,"getStaticProps"),h=(0,i.l)(d,"getStaticPaths"),g=(0,i.l)(d,"getServerSideProps"),p=(0,i.l)(d,"config"),b=(0,i.l)(d,"reportWebVitals"),f=(0,i.l)(d,"unstable_getStaticProps"),y=(0,i.l)(d,"unstable_getStaticPaths"),j=(0,i.l)(d,"unstable_getStaticParams"),v=(0,i.l)(d,"unstable_getServerProps"),N=(0,i.l)(d,"unstable_getServerSideProps"),w=new s.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/opportunities",pathname:"/opportunities",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:d});a()}catch(e){a(e)}})},3893:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>x});var s=r(997);r(108);var l=r(968),i=r.n(l),n=r(6689),o=r.n(n),c=r(9752),d=e([c]);c=(d.then?(await d)():d)[0];class u extends o().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"エラーが発生しました"}),s.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all",children:"再試行"})]})}):this.props.children}}function x({Component:e,pageProps:t}){let[r]=(0,n.useState)(()=>new c.QueryClient({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1,retry:(e,t)=>(!t||!("status"in t)||404!==t.status)&&e<3}}}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[s.jsx("title",{children:"インフルエンサーマーケティングツール"}),s.jsx("meta",{name:"description",content:"インフルエンサーとクライアントをつなぐマーケティングプラットフォーム"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),s.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),s.jsx(u,{children:s.jsx(c.QueryClientProvider,{client:r,children:s.jsx(e,{...t})})})]})}a()}catch(e){a(e)}})},4492:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>x});var s=r(997),l=r(6689),i=r(6197),n=r(1163),o=r(1664),c=r.n(o),d=e([i]);i=(d.then?(await d)():d)[0];let x=()=>{let[e,t]=(0,l.useState)(null),[a,o]=(0,l.useState)([]),[d,x]=(0,l.useState)(!0),[u,m]=(0,l.useState)(""),[h,g]=(0,l.useState)("all"),[p,b]=(0,l.useState)(""),[f,y]=(0,l.useState)(!1),[j,v]=(0,l.useState)(null),[N,w]=(0,l.useState)(!1),[S,D]=(0,l.useState)(""),[P,C]=(0,l.useState)(0),[M,A]=(0,l.useState)(!1),k=(0,n.useRouter)();(0,l.useEffect)(()=>{let e=localStorage.getItem("user"),r=localStorage.getItem("token");if(e&&r){let r=JSON.parse(e);if(t(r),"INFLUENCER"!==r.role){k.push("/dashboard");return}F()}else k.push("/login")},[k]),(0,l.useEffect)(()=>{e&&F()},[h]);let F=async()=>{try{let{getAvailableProjects:e}=await r.e(279).then(r.bind(r,4279)),t=await e({category:"all"!==h?h:void 0});o(t.projects||[])}catch(e){console.error("Error fetching opportunities:",e),o([{id:"1",title:"新商品コスメのPRキャンペーン",description:"新発売のファンデーションを使用した投稿をお願いします。自然な仕上がりが特徴で、20-30代女性向けです。",category:"美容・化粧品",budget:3e5,targetPlatforms:["INSTAGRAM","TIKTOK"],targetPrefecture:"東京都",targetAgeMin:20,targetAgeMax:35,targetFollowerMin:1e4,targetFollowerMax:1e5,startDate:"2024-02-01",endDate:"2024-02-28",createdAt:"2024-01-15",client:{companyName:"ビューティーコスメ株式会社",industry:"美容・化粧品"},isApplied:!1,matchesProfile:!0},{id:"2",title:"ヘルシーフードのレビュー企画",description:"栄養バランスの良いミールキットの紹介。健康志向の高い方におすすめです。",category:"フード・飲料",budget:15e4,targetPlatforms:["INSTAGRAM","YOUTUBE"],targetPrefecture:"全国",targetAgeMin:25,targetAgeMax:45,targetFollowerMin:5e3,targetFollowerMax:5e4,startDate:"2024-01-25",endDate:"2024-02-25",createdAt:"2024-01-12",client:{companyName:"ヘルシーフード株式会社",industry:"フード・飲料"},isApplied:!0,matchesProfile:!0},{id:"3",title:"ファッションアイテムの着回し企画",description:"春夏の新作アイテムを使った着回しコーデを提案してください。",category:"ファッション",budget:2e5,targetPlatforms:["INSTAGRAM","TIKTOK"],targetPrefecture:"関東",targetAgeMin:18,targetAgeMax:30,targetFollowerMin:2e4,targetFollowerMax:2e5,startDate:"2024-02-10",endDate:"2024-03-10",createdAt:"2024-01-20",client:{companyName:"トレンドファッション株式会社",industry:"ファッション"},isApplied:!1,matchesProfile:!1}])}finally{x(!1)}},E=async e=>{if(e.preventDefault(),j){A(!0);try{let{applyToProject:e}=await r.e(279).then(r.bind(r,4279));await e({projectId:j.id,message:S,proposedPrice:P}),alert("プロジェクトに応募しました！"),w(!1),v(null),D(""),C(0),await F()}catch(e){console.error("Error applying to project:",e),alert("応募に失敗しました。")}finally{A(!1)}}},q=a.filter(e=>{let t="all"===h||e.category===h,r=e.title.toLowerCase().includes(p.toLowerCase())||e.description.toLowerCase().includes(p.toLowerCase())||e.client.companyName.toLowerCase().includes(p.toLowerCase()),a=!f||e.matchesProfile;return t&&r&&a}),I=e=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",minimumFractionDigits:0}).format(e),T=e=>new Date(e).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"}),L=e=>{switch(e.toLowerCase()){case"instagram":return"\uD83D\uDCF8";case"youtube":return"\uD83C\uDFA5";case"tiktok":return"\uD83C\uDFB5";case"twitter":return"\uD83D\uDC26";default:return"\uD83D\uDCF1"}},_=e=>e>=1e4?(e/1e4).toFixed(1)+"万":e.toLocaleString();return d?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"読み込み中..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-xl border-b border-gray-200 sticky top-0 z-10",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(c(),{href:"/dashboard",className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:"IM"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"プロジェクト機会"}),s.jsx("p",{className:"text-sm text-gray-600",children:"参加可能なプロジェクトを探そう"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-gray-700",children:e?.email}),s.jsx(c(),{href:"/dashboard",className:"px-4 py-2 text-gray-600 hover:text-blue-600 transition-colors",children:"ダッシュボード"})]})]})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-white/80 backdrop-blur-xl border border-gray-200 rounded-3xl p-6 shadow-xl mb-8",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"プロジェクト名、説明、企業名で検索...",value:p,onChange:e=>b(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:[{value:"all",label:"すべて"},{value:"美容・化粧品",label:"美容・化粧品"},{value:"ファッション",label:"ファッション"},{value:"フード・飲料",label:"フード・飲料"},{value:"ライフスタイル",label:"ライフスタイル"},{value:"テクノロジー",label:"テクノロジー"},{value:"スポーツ・フィットネス",label:"スポーツ・フィットネス"},{value:"その他",label:"その他"}].map(e=>s.jsx(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(e.value),className:`px-4 py-2 rounded-xl font-medium transition-all ${h===e.value?"bg-blue-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"showOnlyMatches",checked:f,onChange:e=>y(e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),s.jsx("label",{htmlFor:"showOnlyMatches",className:"text-sm font-medium text-gray-700",children:"プロフィールに合致するもののみ表示"})]})]}),u&&s.jsx(i.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-6",children:u}),s.jsx("div",{className:"space-y-6",children:0===q.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"プロジェクトが見つかりません"}),s.jsx("p",{className:"text-gray-600",children:"検索条件を変更してもう一度お試しください。"})]}):q.map((e,t)=>(0,s.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},className:`bg-white/80 backdrop-blur-xl border border-gray-200 rounded-3xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 ${e.matchesProfile?"border-green-200 bg-green-50/50":""}`,children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.title}),e.matchesProfile&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"✓ プロフィールに合致"}),e.isApplied&&s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"応募済み"})]}),s.jsx("p",{className:"text-gray-600 mb-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-2",children:[(0,s.jsxs)("span",{children:["\uD83C\uDFE2 ",e.client.companyName]}),(0,s.jsxs)("span",{children:["\uD83D\uDCC5 ",T(e.startDate)," - ",T(e.endDate)]}),(0,s.jsxs)("span",{children:["\uD83C\uDFF7️ ",e.category]})]}),s.jsx("div",{className:"flex items-center space-x-2 mb-4",children:e.targetPlatforms.map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[L(e)," ",e]},e))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-4 lg:mt-0",children:[(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:I(e.budget)}),s.jsx("div",{className:"text-gray-500 text-sm",children:"予算"})]}),!e.isApplied&&s.jsx(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{v(e),w(!0)},className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all",children:"応募する"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"対象地域"}),s.jsx("p",{className:"text-gray-600",children:e.targetPrefecture})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"年齢層"}),s.jsx("p",{className:"text-gray-600",children:e.targetAgeMin>0&&e.targetAgeMax>0?`${e.targetAgeMin}-${e.targetAgeMax}歳`:"指定なし"})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"フォロワー数"}),s.jsx("p",{className:"text-gray-600",children:e.targetFollowerMin>0&&e.targetFollowerMax>0?`${_(e.targetFollowerMin)} - ${_(e.targetFollowerMax)}`:"指定なし"})]})]})]},e.id))}),(0,s.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"bg-white/80 backdrop-blur-xl border border-gray-200 rounded-3xl p-8 shadow-xl mt-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"統計情報"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:a.length}),s.jsx("div",{className:"text-gray-600",children:"利用可能な機会"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:a.filter(e=>e.matchesProfile).length}),s.jsx("div",{className:"text-gray-600",children:"プロフィールに合致"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:a.filter(e=>e.isApplied).length}),s.jsx("div",{className:"text-gray-600",children:"応募済み"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:Math.round(a.reduce((e,t)=>e+t.budget,0)/a.length).toLocaleString()}),s.jsx("div",{className:"text-gray-600",children:"平均予算（円）"})]})]})]})]}),N&&j&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(i.motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl p-8 max-w-md w-full relative max-h-[90vh] overflow-y-auto",children:[s.jsx("button",{onClick:()=>{w(!1),v(null),D(""),C(0)},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:"✕"}),s.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"プロジェクトに応募"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:j.title}),s.jsx("p",{className:"text-gray-600 mb-6",children:j.client.companyName}),(0,s.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"提案料金 (円)"}),s.jsx("input",{type:"number",value:P||"",onChange:e=>C(parseInt(e.target.value)||0),required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"150000"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"応募メッセージ"}),s.jsx("textarea",{value:S,onChange:e=>D(e.target.value),required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"このプロジェクトに応募する理由、あなたの強みや経験について記載してください..."})]}),s.jsx(i.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:M,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:M?"応募中...":"応募する"})]})]})})]})};a()}catch(e){a(e)}})},108:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},9752:e=>{"use strict";e.exports=import("@tanstack/react-query")},9648:e=>{"use strict";e.exports=import("axios")},6197:e=>{"use strict";e.exports=import("framer-motion")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[899,132,163,664],()=>r(3327));module.exports=a})();