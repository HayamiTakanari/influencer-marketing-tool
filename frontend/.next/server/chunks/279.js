"use strict";exports.id=279,exports.ids=[279],exports.modules={4279:(e,t,a)=>{a.a(e,async(e,o)=>{try{a.d(t,{acceptApplication:()=>M,addPortfolio:()=>S,addSocialAccount:()=>y,addTeamMember:()=>_,applyToProject:()=>T,createProject:()=>k,createReview:()=>V,createTeam:()=>v,deleteNotification:()=>K,deletePortfolio:()=>I,deleteSocialAccount:()=>D,deleteTeam:()=>F,getApplicationsForMyProjects:()=>R,getAvailableProjects:()=>A,getComparisonData:()=>J,getInfluencerById:()=>m,getMyApplications:()=>N,getMyProfile:()=>u,getMyProjects:()=>O,getMyReviews:()=>H,getMyTeam:()=>j,getNotifications:()=>B,getOverviewStats:()=>Y,getPerformanceMetrics:()=>q,getProjectById:()=>C,getReviewableProjects:()=>X,ij:()=>g,login:()=>c,markAllNotificationsAsRead:()=>L,markNotificationAsRead:()=>G,pM:()=>b,register:()=>l,rejectApplication:()=>$,removeTeamMember:()=>U,searchInfluencers:()=>p,updateMemberRole:()=>x,updatePortfolio:()=>h,updateProfile:()=>f,updateSocialAccount:()=>w,updateTeam:()=>E});var i=a(9648),r=e([i]);i=(r.then?(await r)():r)[0];let n="http://localhost:10000/api";console.log("API_BASE_URL:",n),console.log("process.env.NEXT_PUBLIC_API_URL:","http://localhost:10000/api"),console.log("Window hostname:","SSR");let s=i.default.create({baseURL:n,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let c=async(e,t)=>{console.log("Login API called with:",{email:e,baseURL:n});try{let a=await s.post("/auth/login",{email:e,password:t});return console.log("Login successful:",a.data),a.data}catch(o){console.error("Login failed, falling back to mock data:",o),await new Promise(e=>setTimeout(e,1e3));let a=[{email:"company@test.com",password:"test123",role:"COMPANY",id:"1"},{email:"client@test.com",password:"test123",role:"CLIENT",id:"2"},{email:"influencer@test.com",password:"test123",role:"INFLUENCER",id:"3"}].find(a=>a.email===e&&a.password===t);if(a)return{token:"mock-jwt-token-"+a.id,user:{id:a.id,email:a.email,role:a.role}};throw o}},l=async e=>{try{return(await s.post("/auth/register",e)).data}catch(t){return console.error("Registration failed, falling back to mock data:",t),await new Promise(e=>setTimeout(e,1e3)),{user:{id:"new-"+Date.now(),email:e.email,role:e.role||"CLIENT"},token:"mock-jwt-token-new-"+Date.now()}}},d=new Map,p=async(e={})=>{let t=JSON.stringify(e);if(d.has(t)){let e=d.get(t);if(Date.now()-e.timestamp<3e5)return console.log("Using cached influencer data"),e.data}let a=await s.get("/influencers/search",{params:e});return d.set(t,{data:a.data,timestamp:Date.now()}),a.data},g=async e=>(await s.post("/ai/recommend-influencers",e)).data,m=async e=>{try{return(await s.get(`/influencers/${e}`)).data}catch(t){return console.error("Error fetching influencer details, falling back to mock data:",t),{id:e,user:{id:e,email:`influencer${e}@example.com`},displayName:`インフルエンサー ${e}`,bio:"美容とライフスタイルについて発信しています。日々の生活をより豊かにするための情報をお届けします。",categories:["美容","ライフスタイル"],prefecture:"東京都",city:"渋谷区",priceMin:5e4,priceMax:2e5,gender:"女性",birthDate:"1995-05-15",socialAccounts:[{id:`${e}_instagram`,platform:"Instagram",username:`user${e}`,profileUrl:`https://instagram.com/user${e}`,followerCount:125e3,engagementRate:4.2,isVerified:!0},{id:`${e}_tiktok`,platform:"TikTok",username:`user${e}tiktok`,profileUrl:`https://tiktok.com/@user${e}`,followerCount:89e3,engagementRate:6.1,isVerified:!1},{id:`${e}_youtube`,platform:"YouTube",username:`user${e}tube`,profileUrl:`https://youtube.com/@user${e}`,followerCount:45e3,engagementRate:3.8,isVerified:!0},{id:`${e}_x`,platform:"X",username:`user${e}x`,profileUrl:`https://x.com/user${e}`,followerCount:32e3,engagementRate:2.5,isVerified:!1}],portfolio:[{id:`${e}_portfolio_1`,title:"スキンケアルーティン動画",description:"朝のスキンケア手順を詳しく紹介した動画コンテンツ",imageUrl:"https://via.placeholder.com/400x300/6366f1/ffffff?text=Portfolio+1",link:"https://example.com/portfolio1",platform:"Instagram"},{id:`${e}_portfolio_2`,title:"コスメレビュー記事",description:"話題の新作コスメを実際に使用してレビュー",imageUrl:"https://via.placeholder.com/400x300/8b5cf6/ffffff?text=Portfolio+2",link:"https://example.com/portfolio2",platform:"Blog"}]}}},u=async()=>{try{return(await s.get("/profile/me")).data}catch(o){console.error("Error fetching profile, falling back to mock data:",o);let e=localStorage.getItem("user"),t=e?JSON.parse(e):{},a=localStorage.getItem("mock_profile_data");if(a)return JSON.parse(a);if("CLIENT"===t.role||"COMPANY"===t.role)return{id:t.id||"1",companyName:"株式会社サンプル",industry:"美容・化粧品",contactName:"田中太郎",contactPhone:"03-1234-5678",address:"東京都渋谷区青山1-1-1",website:"https://example.com",description:"サンプル企業の概要です。美容・化粧品を中心とした事業を展開しています。",budget:1e6,targetAudience:"20-30代女性",location:"東京都",bankName:"",branchName:"",accountType:"",accountNumber:"",accountName:""};return{id:t.id||"1",displayName:"サンプルインフルエンサー",bio:"ライフスタイルについて発信しています",categories:["美容","ライフスタイル"],prefecture:"東京都",city:"渋谷区",priceMin:5e4,priceMax:2e5,gender:"女性",birthDate:"1995-05-15"}}},f=async e=>{try{return(await s.put("/profile/me",e)).data}catch(r){console.error("Error updating profile, using mock response:",r);let t="mock_profile_data",a=localStorage.getItem(t),o=a?JSON.parse(a):{},i={...o,...e,id:o.id||"1"};return localStorage.setItem(t,JSON.stringify(i)),{success:!0,profile:i}}},y=async e=>(await s.post("/profile/social-accounts",e)).data,w=async(e,t)=>(await s.put(`/profile/social-accounts/${e}`,t)).data,D=async e=>(await s.delete(`/profile/social-accounts/${e}`)).data,S=async e=>(await s.post("/profile/portfolio",e)).data,h=async(e,t)=>(await s.put(`/profile/portfolio/${e}`,t)).data,I=async e=>(await s.delete(`/profile/portfolio/${e}`)).data,A=async(e={})=>(await s.get("/projects/available",{params:e})).data,T=async e=>(await s.post("/projects/apply",e)).data,b=async e=>{try{return(await s.get(`/projects/${e}/schedule`)).data}catch(t){return console.warn("Schedule API not available, using mock data"),P(e)}},P=e=>{let t=new Date;return{phases:[{id:`phase-${e}-1`,type:"FORMAL_REQUEST",title:"正式依頼",description:"プロジェクトの正式依頼日",startDate:new Date(t.getTime()+864e5).toISOString(),endDate:null,status:"completed",isDateRange:!1,color:"bg-blue-500",icon:"\uD83D\uDCC4"},{id:`phase-${e}-2`,type:"PRODUCT_RECEIPT",title:"商品受領",description:"商品・資料の受領日",startDate:new Date(t.getTime()+2592e5).toISOString(),endDate:null,status:"completed",isDateRange:!1,color:"bg-green-500",icon:"\uD83D\uDCE6"},{id:`phase-${e}-3`,type:"DRAFT_CREATION",title:"初稿コンテ作成",description:"初稿コンテンツの作成期間",startDate:new Date(t.getTime()+432e6).toISOString(),endDate:new Date(t.getTime()+6912e5).toISOString(),status:"in_progress",isDateRange:!0,color:"bg-purple-500",icon:"✏️"},{id:`phase-${e}-4`,type:"DRAFT_SUBMISSION",title:"初稿コンテ提出",description:"初稿コンテンツの提出日",startDate:new Date(t.getTime()+7776e5).toISOString(),endDate:null,status:"pending",isDateRange:!1,color:"bg-indigo-500",icon:"\uD83D\uDCDD"},{id:`phase-${e}-5`,type:"SHOOTING_PERIOD",title:"撮影期間",description:"実際の撮影・制作期間",startDate:new Date(t.getTime()+1296e6).toISOString(),endDate:new Date(t.getTime()+1728e6).toISOString(),status:"pending",isDateRange:!0,color:"bg-pink-500",icon:"\uD83C\uDFA5"},{id:`phase-${e}-6`,type:"POSTING_PERIOD",title:"投稿期間",description:"SNS投稿期間",startDate:new Date(t.getTime()+216e7).toISOString(),endDate:new Date(t.getTime()+2592e6).toISOString(),status:"pending",isDateRange:!0,color:"bg-rose-500",icon:"\uD83D\uDCF1"}],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},N=async()=>(await s.get("/projects/my-applications")).data,R=async()=>(await s.get("/applications/my-projects")).data,M=async e=>(await s.put(`/projects/applications/${e}/accept`)).data,$=async e=>(await s.delete(`/projects/applications/${e}/reject`)).data,k=async e=>(await s.post("/projects",e)).data,O=async()=>(await s.get("/projects")).data,C=async e=>{console.log("Attempting to fetch project:",e);try{return(await s.get(`/projects/${e}`)).data}catch(a){console.error("Backend failed for getProjectById, using mock data:",a);let t={1:{id:"1",title:"新商品コスメのPRキャンペーン",description:"新発売のファンデーションを使用した投稿をお願いします。自然な仕上がりが特徴の商品で、20-30代の女性をターゲットにしています。",category:"美容・化粧品",budget:3e5,status:"PENDING",targetPlatforms:["INSTAGRAM","TIKTOK"],targetPrefecture:"東京都",targetCity:"渋谷区、新宿区",targetGender:"FEMALE",targetAgeMin:20,targetAgeMax:35,targetFollowerMin:1e4,targetFollowerMax:1e5,startDate:"2024-02-01",endDate:"2024-02-28",deliverables:"Instagram投稿2回、ストーリー投稿3回、TikTok動画1本",requirements:"ナチュラルメイクでの使用感を重視、#新商品コスメ #ナチュラルメイク のハッシュタグ必須",additionalInfo:"商品サンプル提供、撮影用メイク道具一式貸出可能",createdAt:"2024-01-15",advertiserName:"株式会社BeautyCosmetics",brandName:"BeautyPerfect",productName:"ナチュラルグロウファンデーション",productUrl:"https://beautyperfect.com/foundation",productPrice:3980,productFeatures:"自然なツヤ感を演出するリキッドファンデーション。SPF30PA++で日常使いに最適。軽いテクスチャーで長時間崩れにくく、敏感肌でも安心して使用できる美容成分配合。",campaignObjective:"新商品の認知拡大とブランドイメージ向上",campaignTarget:"20-30代の美容に関心の高い女性",postingPeriodStart:"2024-02-01",postingPeriodEnd:"2024-02-28",postingMedia:["INSTAGRAM","TIKTOK"],messageToConvey:"ナチュラルで美しい仕上がりと、肌に優しい処方の魅力",shootingAngle:"正面",packagePhotography:"外装・パッケージ両方",productOrientationSpecified:"ブランド名が見えるように",musicUsage:"商用利用フリー音源のみ",brandContentSettings:"設定必要",advertiserAccount:"@beautyperfect_official",desiredHashtags:["#新商品コスメ","#ナチュラルメイク","#ファンデーション","#BeautyPerfect","#美容"],ngItems:"競合他社（特にカバーマーク、資生堂）への言及禁止、過度な加工禁止",legalRequirements:"「個人の感想です」の記載必須、効果効能に関する断定的表現禁止",notes:"撮影は自然光での撮影を推奨、Before/Afterの比較投稿歓迎",secondaryUsage:"許可（条件あり）",secondaryUsageScope:"自社公式サイト、自社SNSアカウント、店舗ディスプレイ",secondaryUsagePeriod:"1年間",insightDisclosure:"必要",applications:[{id:"app1",influencer:{id:"inf1",displayName:"田中美咲",bio:"美容・ファッション系インフルエンサー。20代女性向けコンテンツ発信中。",categories:["美容","ファッション"],prefecture:"東京都",priceMin:5e4,priceMax:2e5,socialAccounts:[{platform:"INSTAGRAM",followerCount:35e3,engagementRate:3.5},{platform:"YOUTUBE",followerCount:15e3,engagementRate:2.8}]},message:"この商品にとても興味があります。ナチュラルメイクが得意で、同世代の女性に向けた発信を心がけています。",proposedPrice:15e4,appliedAt:"2024-01-16",isAccepted:!1}]},2:{id:"2",title:"ライフスタイル商品のレビュー",description:"日常使いできる便利グッズの紹介をお願いします。実際に使用した感想や活用方法を自然な形で発信してください。",category:"ライフスタイル",budget:15e4,status:"IN_PROGRESS",targetPlatforms:["YOUTUBE","INSTAGRAM"],targetPrefecture:"全国",targetCity:"",targetGender:"",targetAgeMin:25,targetAgeMax:45,targetFollowerMin:5e3,targetFollowerMax:5e4,startDate:"2024-01-20",endDate:"2024-02-20",deliverables:"YouTube動画1本、Instagram投稿1回、ストーリー投稿2回",requirements:"実際の使用感を重視、#便利グッズ #ライフスタイル のハッシュタグ必須",additionalInfo:"商品サンプル提供、返品不要",createdAt:"2024-01-10",insightDisclosure:"不要",applications:[{id:"app2",influencer:{id:"inf2",displayName:"鈴木さやか",bio:"ライフスタイル系クリエイター。料理、旅行、美容など幅広く発信。",categories:["ライフスタイル","美容","料理"],prefecture:"大阪府",priceMin:8e4,priceMax:3e5,socialAccounts:[{platform:"INSTAGRAM",followerCount:6e4,engagementRate:4.2},{platform:"TIKTOK",followerCount:29e3,engagementRate:5.1}]},message:"ライフスタイル商品のレビューは得意分野です。フォロワーからの反響も良いのでぜひ参加させてください。",proposedPrice:12e4,appliedAt:"2024-01-11",isAccepted:!0}],matchedInfluencer:{id:"inf2",displayName:"鈴木さやか"}}}[e];if(t)return t;return{id:e,title:`プロジェクト ${e}`,description:"このプロジェクトの詳細情報を表示しています。",category:"その他",budget:2e5,status:"PENDING",targetPlatforms:["INSTAGRAM"],targetPrefecture:"東京都",targetCity:"",targetGender:"",targetAgeMin:20,targetAgeMax:40,targetFollowerMin:5e3,targetFollowerMax:5e4,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],deliverables:"Instagram投稿1回、ストーリー投稿1回",requirements:"ブランドガイドラインに従った投稿",additionalInfo:"その他の詳細については別途ご連絡いたします。",createdAt:new Date().toISOString(),applications:[]}}},v=async e=>(await s.post("/teams",e)).data,j=async()=>(await s.get("/teams/my-team")).data,E=async(e,t)=>(await s.put(`/teams/${e}`,t)).data,_=async(e,t)=>(await s.post(`/teams/${e}/members`,t)).data,U=async(e,t)=>(await s.delete(`/teams/${e}/members/${t}`)).data,x=async(e,t,a)=>(await s.put(`/teams/${e}/members/${t}/role`,a)).data,F=async e=>(await s.delete(`/teams/${e}`)).data,B=async(e=1,t=20,a=!1)=>(await s.get("/notifications",{params:{page:e,limit:t,unreadOnly:a}})).data,G=async e=>(await s.put(`/notifications/${e}/read`)).data,L=async()=>(await s.put("/notifications/mark-all-read")).data,K=async e=>(await s.delete(`/notifications/${e}`)).data,Y=async(e="month",t,a)=>{let o={period:e};return t&&(o.startDate=t),a&&(o.endDate=a),(await s.get("/analytics/overview",{params:o})).data},q=async(e="month")=>(await s.get("/analytics/performance")).data,J=async(e="month")=>(await s.get("/analytics/comparison")).data,V=async e=>(await s.post("/reviews",e)).data,H=async(e="received",t=1,a=20)=>(await s.get("/reviews/my-reviews",{params:{type:e,page:t,limit:a}})).data,X=async()=>(await s.get("/reviews/reviewable-projects")).data;o()}catch(e){o(e)}})}};