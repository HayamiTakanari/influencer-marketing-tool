"use strict";exports.id=279,exports.ids=[279],exports.modules={4279:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{$D:()=>ee,ME:()=>Q,Wu:()=>Z,Z$:()=>z,acceptApplication:()=>S,addPortfolio:()=>h,addSocialAccount:()=>y,addTeamMember:()=>j,applyToProject:()=>N,createProject:()=>D,createReview:()=>H,createTeam:()=>C,deleteNotification:()=>B,deletePortfolio:()=>M,deleteSocialAccount:()=>A,deleteTeam:()=>x,getApplicationsForMyProjects:()=>R,getAvailableProjects:()=>E,getComparisonData:()=>q,getInfluencerById:()=>m,getMyApplications:()=>T,getMyProfile:()=>u,getMyProjects:()=>b,getMyReviews:()=>V,getMyTeam:()=>$,getNotifications:()=>F,getOverviewStats:()=>K,getPerformanceMetrics:()=>Y,getProjectById:()=>k,getReviewableProjects:()=>J,login:()=>s,m5:()=>X,markAllNotificationsAsRead:()=>_,markNotificationAsRead:()=>G,register:()=>l,rejectApplication:()=>v,rejectProject:()=>P,removeTeamMember:()=>U,sA:()=>W,searchInfluencers:()=>p,updateMemberRole:()=>L,updatePortfolio:()=>I,updateProfile:()=>f,updateSocialAccount:()=>w,updateTeam:()=>O,vw:()=>et,wD:()=>g});var o=a(9648);a(2358);var i=e([o]);o=(i.then?(await i)():i)[0];let n="http://localhost:10000/api";console.log("API_BASE_URL:",n),console.log("process.env.NEXT_PUBLIC_API_URL:","http://localhost:10000/api"),console.log("Window hostname:","SSR");let c=o.default.create({baseURL:n,headers:{"Content-Type":"application/json"}});c.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let s=async(e,t)=>{console.log("Login API called with:",{email:e,baseURL:n});try{let a=await c.post("/auth/login",{email:e,password:t});return console.log("Login successful:",a.data),a.data}catch(r){console.error("Login failed, falling back to mock data:",r),await new Promise(e=>setTimeout(e,1e3));let a=[{email:"company@test.com",password:"test123",role:"COMPANY",id:"1"},{email:"client@test.com",password:"test123",role:"CLIENT",id:"2"},{email:"influencer@test.com",password:"test123",role:"INFLUENCER",id:"3"}].find(a=>a.email===e&&a.password===t);if(a)return{token:"mock-jwt-token-"+a.id,user:{id:a.id,email:a.email,role:a.role}};throw r}},l=async e=>{try{return(await c.post("/auth/register",e)).data}catch(t){return console.error("Registration failed, falling back to mock data:",t),await new Promise(e=>setTimeout(e,1e3)),{user:{id:"new-"+Date.now(),email:e.email,role:e.role||"CLIENT"},token:"mock-jwt-token-new-"+Date.now()}}},d=new Map,p=async(e={})=>{let t=JSON.stringify(e);if(d.has(t)){let e=d.get(t);if(Date.now()-e.timestamp<3e5)return console.log("Using cached influencer data"),e.data}try{let a=await c.get("/influencers/search",{params:e});return d.set(t,{data:a.data,timestamp:Date.now()}),a.data}catch(s){console.error("Error calling real API, falling back to mock data:",s),console.log("Using fallback mock data for influencer search");let a=e.testLargeData?1e4:50,r=parseInt(e.page)||1,o=parseInt(e.limit)||20,i=(r-1)*o,n=Math.min(i+o,a),c={influencers:Array.from({length:n-i},(e,t)=>{let a=i+t;return{id:`mock-influencer-${a}`,displayName:`テストインフルエンサー${a+1}`,bio:`プロフィール${a+1}：美容・ライフスタイル系インフルエンサーです。`,categories:a%2==0?["美容","ライフスタイル"]:["グルメ","旅行"],prefecture:["東京都","大阪府","神奈川県","愛知県","福岡県"][a%5],priceMin:(a%10+1)*1e4,priceMax:(a%10+1)*5e4,gender:["男性","女性"][a%2],age:20+a%25,socialAccounts:[{platform:"Instagram",followerCount:Math.floor(1e5*Math.random())+1e3,engagementRate:Math.round(50*Math.random()+10)/10}]}}),pagination:{page:r,limit:o,total:a,totalPages:Math.ceil(a/o),hasNext:r<Math.ceil(a/o),hasPrev:r>1},performance:{responseTime:Math.floor(100*Math.random())+50,cacheHit:!1}};return d.set(t,{data:c,timestamp:Date.now()}),c}},g=async e=>(await c.post("/ai/recommend-influencers-for-project",e)).data,m=async e=>{try{return(await c.get(`/influencers/${e}`)).data}catch(t){return console.error("Error fetching influencer details, falling back to mock data:",t),{id:e,user:{id:e,email:`influencer${e}@example.com`},displayName:`インフルエンサー ${e}`,bio:"美容とライフスタイルについて発信しています。日々の生活をより豊かにするための情報をお届けします。",categories:["美容","ライフスタイル"],prefecture:"東京都",city:"渋谷区",priceMin:5e4,priceMax:2e5,gender:"女性",birthDate:"1995-05-15",socialAccounts:[{id:`${e}_instagram`,platform:"Instagram",username:`user${e}`,profileUrl:`https://instagram.com/user${e}`,followerCount:125e3,engagementRate:4.2,isVerified:!0},{id:`${e}_tiktok`,platform:"TikTok",username:`user${e}tiktok`,profileUrl:`https://tiktok.com/@user${e}`,followerCount:89e3,engagementRate:6.1,isVerified:!1},{id:`${e}_youtube`,platform:"YouTube",username:`user${e}tube`,profileUrl:`https://youtube.com/@user${e}`,followerCount:45e3,engagementRate:3.8,isVerified:!0},{id:`${e}_x`,platform:"X",username:`user${e}x`,profileUrl:`https://x.com/user${e}`,followerCount:32e3,engagementRate:2.5,isVerified:!1}],portfolio:[{id:`${e}_portfolio_1`,title:"スキンケアルーティン動画",description:"朝のスキンケア手順を詳しく紹介した動画コンテンツ",imageUrl:"https://via.placeholder.com/400x300/6366f1/ffffff?text=Portfolio+1",link:"https://example.com/portfolio1",platform:"Instagram"},{id:`${e}_portfolio_2`,title:"コスメレビュー記事",description:"話題の新作コスメを実際に使用してレビュー",imageUrl:"https://via.placeholder.com/400x300/8b5cf6/ffffff?text=Portfolio+2",link:"https://example.com/portfolio2",platform:"Blog"}]}}},u=async()=>{try{return(await c.get("/profile/me")).data}catch(r){console.error("Error fetching profile, falling back to mock data:",r);let e=localStorage.getItem("user"),t=e?JSON.parse(e):{},a=localStorage.getItem("mock_profile_data");if(a)return JSON.parse(a);if("CLIENT"===t.role||"COMPANY"===t.role)return{id:t.id||"1",companyName:"株式会社サンプル",industry:"美容・化粧品",contactName:"田中太郎",contactPhone:"03-1234-5678",address:"東京都渋谷区青山1-1-1",website:"https://example.com",description:"サンプル企業の概要です。美容・化粧品を中心とした事業を展開しています。",budget:1e6,targetAudience:"20-30代女性",location:"東京都",bankName:"",branchName:"",accountType:"",accountNumber:"",accountName:""};return{id:t.id||"1",displayName:"サンプルインフルエンサー",bio:"ライフスタイルについて発信しています",categories:["美容","ライフスタイル"],prefecture:"東京都",city:"渋谷区",priceMin:5e4,priceMax:2e5,gender:"女性",birthDate:"1995-05-15"}}},f=async e=>{try{return(await c.put("/profile/me",e)).data}catch(i){console.error("Error updating profile, using mock response:",i);let t="mock_profile_data",a=localStorage.getItem(t),r=a?JSON.parse(a):{},o={...r,...e,id:r.id||"1"};return localStorage.setItem(t,JSON.stringify(o)),{success:!0,profile:o}}},y=async e=>(await c.post("/profile/social-accounts",e)).data,w=async(e,t)=>(await c.put(`/profile/social-accounts/${e}`,t)).data,A=async e=>(await c.delete(`/profile/social-accounts/${e}`)).data,h=async e=>(await c.post("/profile/portfolio",e)).data,I=async(e,t)=>(await c.put(`/profile/portfolio/${e}`,t)).data,M=async e=>(await c.delete(`/profile/portfolio/${e}`)).data,E=async(e={})=>(await c.get("/projects/available",{params:e})).data,N=async e=>(await c.post("/projects/apply",e)).data,P=async e=>(await c.post("/projects/reject",e)).data,T=async()=>(await c.get("/projects/my-applications")).data,R=async()=>(await c.get("/applications/my-projects")).data,S=async e=>(await c.put(`/projects/applications/${e}/accept`)).data,v=async e=>(await c.delete(`/projects/applications/${e}/reject`)).data,D=async e=>(await c.post("/projects",e)).data,b=async()=>{console.log("getMyProjects called");try{console.log("Attempting to fetch projects from API...");let e=await c.get("/projects");return console.log("API response received:",e.data),e.data}catch(e){return console.warn("API request failed, falling back to mock data:",e),{projects:[{id:"1",title:"新商品コスメのPRキャンペーン",description:"新発売のファンデーションを使用した投稿をお願いします。",category:"美容・化粧品",budget:3e5,status:"IN_PROGRESS",targetPlatforms:["INSTAGRAM","TIKTOK"],targetPrefecture:"東京都",targetAgeMin:20,targetAgeMax:35,targetFollowerMin:1e4,targetFollowerMax:1e5,startDate:"2024-02-01",endDate:"2024-02-28",createdAt:"2024-01-15",applicationsCount:12,clientId:"current-user"},{id:"2",title:"ライフスタイル商品のレビュー",description:"日常使いできる便利グッズの紹介をお願いします。",category:"ライフスタイル",budget:15e4,status:"IN_PROGRESS",targetPlatforms:["YOUTUBE","INSTAGRAM"],targetPrefecture:"全国",targetAgeMin:25,targetAgeMax:45,targetFollowerMin:5e3,targetFollowerMax:5e4,startDate:"2024-01-20",endDate:"2024-02-20",createdAt:"2024-01-10",applicationsCount:8,clientId:"current-user",matchedInfluencerId:"inf1"},{id:"3",title:"フィットネス関連商品のPR",description:"トレーニングウェアを着用した投稿をお願いします。",category:"スポーツ・フィットネス",budget:2e5,status:"PLANNING",targetPlatforms:["INSTAGRAM","YOUTUBE"],targetPrefecture:"関東",targetAgeMin:18,targetAgeMax:30,targetFollowerMin:15e3,targetFollowerMax:8e4,startDate:"2024-02-15",endDate:"2024-03-15",createdAt:"2024-01-20",applicationsCount:5,clientId:"current-user"}]}}},k=async e=>{console.log("Attempting to fetch project:",e);try{return(await c.get(`/projects/${e}`)).data}catch(a){console.error("Backend failed for getProjectById, using mock data:",a);let t={1:{id:"1",title:"新商品コスメのPRキャンペーン",description:"新発売のファンデーションを使用した投稿をお願いします。自然な仕上がりが特徴の商品で、20-30代の女性をターゲットにしています。",category:"美容・化粧品",budget:3e5,status:"PENDING",targetPlatforms:["INSTAGRAM","TIKTOK"],targetPrefecture:"東京都",targetCity:"渋谷区、新宿区",targetGender:"FEMALE",targetAgeMin:20,targetAgeMax:35,targetFollowerMin:1e4,targetFollowerMax:1e5,startDate:"2024-02-01",endDate:"2024-02-28",deliverables:"Instagram投稿2回、ストーリー投稿3回、TikTok動画1本",requirements:"ナチュラルメイクでの使用感を重視、#新商品コスメ #ナチュラルメイク のハッシュタグ必須",additionalInfo:"商品サンプル提供、撮影用メイク道具一式貸出可能",createdAt:"2024-01-15",advertiserName:"株式会社BeautyCosmetics",brandName:"BeautyPerfect",productName:"ナチュラルグロウファンデーション",productUrl:"https://beautyperfect.com/foundation",productPrice:3980,productFeatures:"自然なツヤ感を演出するリキッドファンデーション。SPF30PA++で日常使いに最適。軽いテクスチャーで長時間崩れにくく、敏感肌でも安心して使用できる美容成分配合。",campaignObjective:"新商品の認知拡大とブランドイメージ向上",campaignTarget:"20-30代の美容に関心の高い女性",postingPeriodStart:"2024-02-01",postingPeriodEnd:"2024-02-28",postingMedia:["INSTAGRAM","TIKTOK"],messageToConvey:"ナチュラルで美しい仕上がりと、肌に優しい処方の魅力",shootingAngle:"正面",packagePhotography:"外装・パッケージ両方",productOrientationSpecified:"ブランド名が見えるように",musicUsage:"商用利用フリー音源のみ",brandContentSettings:"設定必要",advertiserAccount:"@beautyperfect_official",desiredHashtags:["#新商品コスメ","#ナチュラルメイク","#ファンデーション","#BeautyPerfect","#美容"],ngItems:"競合他社（特にカバーマーク、資生堂）への言及禁止、過度な加工禁止",legalRequirements:"「個人の感想です」の記載必須、効果効能に関する断定的表現禁止",notes:"撮影は自然光での撮影を推奨、Before/Afterの比較投稿歓迎",secondaryUsage:"許可（条件あり）",secondaryUsageScope:"自社公式サイト、自社SNSアカウント、店舗ディスプレイ",secondaryUsagePeriod:"1年間",insightDisclosure:"必要",applications:[{id:"app1",influencer:{id:"inf1",displayName:"田中美咲",bio:"美容・ファッション系インフルエンサー。20代女性向けコンテンツ発信中。",categories:["美容","ファッション"],prefecture:"東京都",priceMin:5e4,priceMax:2e5,socialAccounts:[{platform:"INSTAGRAM",followerCount:35e3,engagementRate:3.5},{platform:"YOUTUBE",followerCount:15e3,engagementRate:2.8}]},message:"この商品にとても興味があります。ナチュラルメイクが得意で、同世代の女性に向けた発信を心がけています。",proposedPrice:15e4,appliedAt:"2024-01-16",isAccepted:!1}]},2:{id:"2",title:"ライフスタイル商品のレビュー",description:"日常使いできる便利グッズの紹介をお願いします。実際に使用した感想や活用方法を自然な形で発信してください。",category:"ライフスタイル",budget:15e4,status:"IN_PROGRESS",targetPlatforms:["YOUTUBE","INSTAGRAM"],targetPrefecture:"全国",targetCity:"",targetGender:"",targetAgeMin:25,targetAgeMax:45,targetFollowerMin:5e3,targetFollowerMax:5e4,startDate:"2024-01-20",endDate:"2024-02-20",deliverables:"YouTube動画1本、Instagram投稿1回、ストーリー投稿2回",requirements:"実際の使用感を重視、#便利グッズ #ライフスタイル のハッシュタグ必須",additionalInfo:"商品サンプル提供、返品不要",createdAt:"2024-01-10",insightDisclosure:"不要",applications:[{id:"app2",influencer:{id:"inf2",displayName:"鈴木さやか",bio:"ライフスタイル系クリエイター。料理、旅行、美容など幅広く発信。",categories:["ライフスタイル","美容","料理"],prefecture:"大阪府",priceMin:8e4,priceMax:3e5,socialAccounts:[{platform:"INSTAGRAM",followerCount:6e4,engagementRate:4.2},{platform:"TIKTOK",followerCount:29e3,engagementRate:5.1}]},message:"ライフスタイル商品のレビューは得意分野です。フォロワーからの反響も良いのでぜひ参加させてください。",proposedPrice:12e4,appliedAt:"2024-01-11",isAccepted:!0}],matchedInfluencer:{id:"inf2",displayName:"鈴木さやか"}}}[e];if(t)return t;return{id:e,title:`プロジェクト ${e}`,description:"このプロジェクトの詳細情報を表示しています。",category:"その他",budget:2e5,status:"PENDING",targetPlatforms:["INSTAGRAM"],targetPrefecture:"東京都",targetCity:"",targetGender:"",targetAgeMin:20,targetAgeMax:40,targetFollowerMin:5e3,targetFollowerMax:5e4,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],deliverables:"Instagram投稿1回、ストーリー投稿1回",requirements:"ブランドガイドラインに従った投稿",additionalInfo:"その他の詳細については別途ご連絡いたします。",createdAt:new Date().toISOString(),applications:[]}}},C=async e=>(await c.post("/teams",e)).data,$=async()=>(await c.get("/teams/my-team")).data,O=async(e,t)=>(await c.put(`/teams/${e}`,t)).data,j=async(e,t)=>(await c.post(`/teams/${e}/members`,t)).data,U=async(e,t)=>(await c.delete(`/teams/${e}/members/${t}`)).data,L=async(e,t,a)=>(await c.put(`/teams/${e}/members/${t}/role`,a)).data,x=async e=>(await c.delete(`/teams/${e}`)).data,F=async(e=1,t=20,a=!1)=>(await c.get("/notifications",{params:{page:e,limit:t,unreadOnly:a}})).data,G=async e=>(await c.put(`/notifications/${e}/read`)).data,_=async()=>(await c.put("/notifications/mark-all-read")).data,B=async e=>(await c.delete(`/notifications/${e}`)).data,K=async(e="month",t,a)=>{let r={period:e};return t&&(r.startDate=t),a&&(r.endDate=a),(await c.get("/analytics/overview",{params:r})).data},Y=async(e="month")=>(await c.get("/analytics/performance")).data,q=async(e="month")=>(await c.get("/analytics/comparison")).data,H=async e=>(await c.post("/reviews",e)).data,V=async(e="received",t=1,a=20)=>(await c.get("/reviews/my-reviews",{params:{type:e,page:t,limit:a}})).data,J=async()=>(await c.get("/reviews/reviewable-projects")).data,W=async(e={})=>{console.log("Fetching invoices with params:",e);try{return(await c.get("/invoices",{params:e})).data}catch(e){return console.error("Error fetching invoices, using fallback data:",e),{invoices:[],pagination:{page:1,limit:20,total:0,totalPages:0},summary:{totalAmount:0,paidAmount:0,unpaidAmount:0,overdueAmount:0}}}},X=async e=>{console.log("Fetching invoice by id:",e);try{return(await c.get(`/invoices/${e}`)).data}catch(e){throw console.error("Error fetching invoice detail:",e),e}},z=async e=>{console.log("Creating invoice:",e);try{return(await c.post("/invoices",e)).data}catch(e){throw console.error("Error creating invoice:",e),e}},Z=async e=>{console.log("Deleting invoice:",e);try{await c.delete(`/invoices/${e}`)}catch(e){throw console.error("Error deleting invoice:",e),e}},Q=async e=>{console.log("Sending invoice:",e);try{return(await c.post(`/invoices/${e}/send`)).data}catch(e){throw console.error("Error sending invoice:",e),e}},ee=async(e,t)=>{console.log("Marking invoice as paid:",e);try{return(await c.post(`/invoices/${e}/mark-paid`,{paidDate:t})).data}catch(e){throw console.error("Error marking invoice as paid:",e),e}},et=async e=>{console.log("Generating invoice from project:",e);try{return(await c.post(`/projects/${e}/generate-invoice`)).data}catch(e){throw console.error("Error generating invoice from project:",e),e}};r()}catch(e){r(e)}})},2358:(e,t,a)=>{var r,o,i,n,c;a.d(t,{UY:()=>c}),function(e){e.CLIENT="CLIENT",e.INFLUENCER="INFLUENCER",e.ADMIN="ADMIN"}(r||(r={})),function(e){e.INSTAGRAM="INSTAGRAM",e.YOUTUBE="YOUTUBE",e.TIKTOK="TIKTOK",e.TWITTER="TWITTER"}(o||(o={})),function(e){e.PENDING="PENDING",e.MATCHED="MATCHED",e.IN_PROGRESS="IN_PROGRESS",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED"}(i||(i={})),function(e){e.MALE="MALE",e.FEMALE="FEMALE",e.OTHER="OTHER",e.NOT_SPECIFIED="NOT_SPECIFIED"}(n||(n={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.PAID="PAID",e.OVERDUE="OVERDUE",e.CANCELLED="CANCELLED"}(c||(c={}))}};